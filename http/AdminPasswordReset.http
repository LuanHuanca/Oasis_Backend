### ============================================
### CAMBIO DE CONTRASEÑA - ADMIN
### ============================================

### 1. CAMBIAR CONTRASEÑA DE ADMIN (Método Recomendado)
### Usa el endpoint específico de cambio de contraseña
PUT http://localhost:9999/api/v1/admin/2/password
Content-Type: application/json

{
  "password": "NuevaContraseña123."
}

### Respuesta esperada:
### {
###   "code": null,
###   "result": "Contraseña actualizada exitosamente",
###   "message": null
### }

###

### 2. VERIFICAR ESTADO DEL ADMIN
GET http://localhost:9999/api/v1/admin/1
Accept: application/json

###

### 3. INTENTAR LOGIN CON NUEVA CONTRASEÑA
POST http://localhost:9999/api/v1/admin/login
Content-Type: application/json

{
  "correo": "luan.huanca@tuguia.bo",
  "password": "NuevaContraseña123"
}

###

### ============================================
### ACTUALIZAR ADMIN (Método Completo)
### ============================================
### ⚠️ IMPORTANTE: Debes incluir TODOS los campos obligatorios
### ⚠️ Si solo quieres cambiar la contraseña, usa el endpoint /password

### Actualizar Admin Completo
PUT http://localhost:9999/api/v1/admin/update
Content-Type: application/json

{
  "idAdmin": 1,
  "correo": "luan.huanca@tuguia.bo",
  "password": "OtraContraseña456",
  "rol": {
    "idRol": 1
  },
  "persona": {
    "idPersona": 1
  }
}

###

### ============================================
### ACTUALIZAR SOLO EL ROL DE UN ADMIN
### ============================================

### Cambiar rol del admin (sin tocar otros campos)
PUT http://localhost:9999/api/v1/admin/updateRole/1
Content-Type: application/json

{
  "rolId": 2
}

###

### ============================================
### RESETEAR CONTRASEÑA A UNA CONOCIDA
### ============================================
### Si olvidaste tu contraseña, puedes crear un nuevo admin
### o usar SQL directo para resetear

### Crear nuevo admin temporal
POST http://localhost:9999/api/v1/admin/create
Content-Type: application/json

{
  "correo": "temp.admin@oasis.com",
  "password": "Temporal123",
  "rolId": 1,
  "idPersona": 2
}

###

### ============================================
### DIAGNÓSTICO DE PROBLEMAS DE LOGIN
### ============================================

### Verificar intentos fallidos
GET http://localhost:9999/api/v1/bloqueo/admin/1/info
Accept: application/json

###

### Desbloquear cuenta (si está bloqueada)
POST http://localhost:9999/api/v1/bloqueo/admin/1/desbloquear
Content-Type: application/json

###

### Reiniciar intentos manualmente (opcional)
### Normalmente se hace automáticamente en login exitoso

###

### ============================================
### SCRIPT SQL PARA RESETEAR CONTRASEÑA
### ============================================
### Si nada funciona, ejecuta esto en PostgreSQL:
### 
### -- Resetear a contraseña "Temporal123"
### UPDATE admin 
### SET password = '$2a$10$8X9gvqZ5iF3P.qYxK9W9aOMJQvX5zKHYj5L0Z9QnJ5xK9W9aOMJQv',
###     intentosfallidos = 0,
###     estadocuenta = true,
###     fechabloqueo = null,
###     motivobloqueo = null
### WHERE idadmin = 1;
### 
### Luego intenta login con:
### correo: luan.huanca@tuguia.bo
### password: Temporal123

###

